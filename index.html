<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Roulette Pattern Analyzer</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: #1a1a1a; color: #fff; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: #2d2d2d; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        h1 { color: #4db8ff; text-align: center; }
        textarea { width: 100%; height: 120px; background: #3d3d3d; color: #fff; border: 1px solid #555; border-radius: 8px; padding: 10px; box-sizing: border-box; font-size: 16px; }
        button { width: 100%; background: #008cba; color: white; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-size: 18px; margin-top: 15px; transition: 0.3s; }
        button:hover { background: #005f7a; }
        .results { margin-top: 30px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #333; }
        th, td { padding: 12px; text-align: center; border: 1px solid #444; }
        th { background: #4db8ff; color: #000; }
        .number-badge { padding: 4px 8px; border-radius: 4px; font-weight: bold; margin: 2px; display: inline-block; }
        .red { background: #e74c3c; }
        .black { background: #000; color: #fff; border: 1px solid #555; }
        .green { background: #27ae60; }
        .rank-best { background: rgba(39, 174, 96, 0.2); border: 2px solid #27ae60; }
    </style>
</head>
<body>

<div class="container">
    <h1>ðŸŽ¯ Roulette Pattern Analyzer (RPA)</h1>
    <p style="text-align: center; color: #aaa;">Pichle 5 ya usse zyada numbers yahan enter karein (comma separated):</p>
    <textarea id="numbersInput" placeholder="Eg: 32, 15, 19, 4, 21, 2, 25..."></textarea>
    <button onclick="analyzePatterns()">Analyze Best Winning Patterns</button>

    <div id="loading" style="text-align:center; margin-top:10px;"></div>
    <div id="results" class="results"></div>
</div>

<script>
    const wheelOrder = [0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26];
    const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

    function getNeighbors(num) {
        let idx = wheelOrder.indexOf(num);
        let left = wheelOrder[(idx - 1 + 37) % 37];
        let right = wheelOrder[(idx + 1) % 37];
        return [left, num, right];
    }

    function analyzePatterns() {
        const input = document.getElementById('numbersInput').value;
        const numbers = input.split(/[\s,]+/).map(n => parseInt(n.trim())).filter(n => !isNaN(n));
        
        if(numbers.length < 5) {
            alert("Kam se kam 5 numbers dalein!");
            return;
        }

        document.getElementById('loading').innerHTML = "Analyzing millions of sequences...";
        
        setTimeout(() => {
            let uniqueNumbers = [...new Set(numbers)];
            let results = [];

            // Har 3-number combination ko test karte hain (Optimized)
            for (let i = 0; i < uniqueNumbers.length - 2; i++) {
                for (let j = i + 1; j < uniqueNumbers.length - 1; j++) {
                    for (let k = j + 1; k < uniqueNumbers.length; k++) {
                        let combo = [uniqueNumbers[i], uniqueNumbers[j], uniqueNumbers[k]];
                        let covered = new Set();
                        combo.forEach(n => getNeighbors(n).forEach(nb => covered.add(nb)));

                        let wins = 0;
                        numbers.forEach(n => { if(covered.has(n)) wins++; });
                        
                        let winRate = (wins / numbers.length) * 100;
                        results.push({ combo, winRate, totalCovered: covered.size });
                    }
                }
            }

            results.sort((a, b) => b.winRate - a.winRate);
            displayResults(results.slice(0, 5), numbers.length);
        }, 500);
    }

    function displayResults(topPatterns, totalSpins) {
        let html = `<h3>Top 5 Winning Patterns (Based on ${totalSpins} spins)</h3><table>
                    <tr><th>Rank</th><th>Pattern Numbers</th><th>Win Rate</th><th>Action</th></tr>`;
        
        topPatterns.forEach((p, i) => {
            let badges = p.combo.map(num => {
                let color = num === 0 ? 'green' : (redNumbers.includes(num) ? 'red' : 'black');
                return `<span class="number-badge ${color}">${num}</span>`;
            }).join("");

            html += `<tr class="${i === 0 ? 'rank-best' : ''}">
                        <td>#${i + 1}</td>
                        <td>${badges}</td>
                        <td><strong>${p.winRate.toFixed(2)}%</strong></td>
                        <td><small>Bet on these & Neighbors</small></td>
                    </tr>`;
        });
        html += `</table>`;
        document.getElementById('loading').innerHTML = "";
        document.getElementById('results').innerHTML = html;
    }
</script>
</body>
</html>
